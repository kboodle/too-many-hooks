{"version":3,"file":"UseMutationObserver.stories-e486c09f.js","sources":["../../src/stories/UseMutationObserver/Attributes.tsx","../../src/stories/UseMutationObserver/Attributes.tsx?raw","../../src/stories/UseMutationObserver/stories.tsx","../../../too-many-hooks/dist/useMutationObserver.d.ts?raw","../../src/stories/UseMutationObserver/UseMutationObserver.stories.mdx"],"sourcesContent":["import { useMutationObserver } from '@yobgob/too-many-hooks'\nimport React, { useEffect } from 'react'\n\ninterface Props {\n  attributeMutation: (name?: string | null) => string\n  attribute: string\n}\n\nconst Attributes: React.FC<Props> = ({ attributeMutation, attribute }) => {\n  const records = useMutationObserver(document.body, {\n    attributes: true,\n    subtree: true,\n  })\n  useEffect(() => {\n    const currentAttribute = document.getElementById('example-div')?.dataset.attribute\n    if (records && currentAttribute !== undefined) {\n      attributeMutation(\n        `Observed mutation with record attributeName ${records?.[0].attributeName}, div data ${\n          !currentAttribute ? 'cleared' : `set to ${currentAttribute}`\n        }`,\n      )\n    }\n  }, [attributeMutation, records])\n  return (\n    <div id=\"example-div\" className=\"prose text-4xl\" data-attribute={attribute}>\n      Use the controls to trigger a mutation, viewable in the &quot;Actions&quot; tab\n    </div>\n  )\n}\n\nexport default Attributes\n","export default \"import { useMutationObserver } from '@yobgob/too-many-hooks'\\nimport React, { useEffect } from 'react'\\n\\ninterface Props {\\n  attributeMutation: (name?: string | null) => string\\n  attribute: string\\n}\\n\\nconst Attributes: React.FC<Props> = ({ attributeMutation, attribute }) => {\\n  const records = useMutationObserver(document.body, {\\n    attributes: true,\\n    subtree: true,\\n  })\\n  useEffect(() => {\\n    const currentAttribute = document.getElementById('example-div')?.dataset.attribute\\n    if (records && currentAttribute !== undefined) {\\n      attributeMutation(\\n        `Observed mutation with record attributeName ${records?.[0].attributeName}, div data ${\\n          !currentAttribute ? 'cleared' : `set to ${currentAttribute}`\\n        }`,\\n      )\\n    }\\n  }, [attributeMutation, records])\\n  return (\\n    <div id=\\\"example-div\\\" className=\\\"prose text-4xl\\\" data-attribute={attribute}>\\n      Use the controls to trigger a mutation, viewable in the &quot;Actions&quot; tab\\n    </div>\\n  )\\n}\\n\\nexport default Attributes\\n\"","import type { Meta, StoryObj } from '@storybook/react'\nimport Attributes from './Attributes'\nimport ATTRIBUTES_CODE from './Attributes.tsx?raw'\n\nexport const attributes: StoryObj<Meta<typeof Attributes>> = {\n  parameters: {\n    layout: 'centered',\n    docs: {\n      source: { code: ATTRIBUTES_CODE, language: 'tsx' },\n    },\n  },\n  argTypes: {\n    attribute: {\n      type: 'string',\n    },\n    attributeMutation: {\n      action: (name: string) => name,\n    },\n  },\n  render: args => <Attributes {...args} />,\n}\n","export default \"/**\\n * `useMutationObserver` hook type\\n *\\n * @export\\n * @typedef {UseMutationObserver}\\n * @param {(Node | null)} target\\n * @param {?MutationObserverInit} [options]\\n * @returns {(MutationRecord[] | undefined)}\\n */\\nexport type UseMutationObserver = (target: Node | null, options?: MutationObserverInit) => MutationRecord[] | undefined;\\n/**\\n * Observes a node and returns the latest mutation record\\n *\\n * @implements {UseMutationObserver}\\n * @param {(Node | null)} target\\n * @param {?MutationObserverInit} [options]\\n * @returns {(MutationRecord[] | undefined)}\\n */\\ndeclare const useMutationObserver: UseMutationObserver;\\nexport default useMutationObserver;\\n\"","import { Canvas, Meta, Source, Story } from '@storybook/addon-docs'\nimport * as stories from './stories'\nimport TYPES from '../../../../too-many-hooks/dist/useMutationObserver.d.ts?raw'\n\n<Meta title=\"Example/UseMutationObserver\" />\n\n# useMutationObserver\n\nA wrapper of a `MutationObserver` which returns an array of mutation records, allowing code to watch for changes to elements.\n\n## Types\n\n<Source language=\"ts\" code={TYPES} />\n\n## Examples\n\n### Attributes\n\n<Canvas withSource=\"open\">\n  <Story name=\"Attributes\" story={stories.attributes} />\n</Canvas>\n"],"names":["Attributes","attributeMutation","attribute","records","useMutationObserver","useEffect","currentAttribute","_a","jsx","ATTRIBUTES_CODE","attributes","name","args","TYPES","_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Source","Canvas","Story","stories.attributes","MDXContent","MDXLayout","_attributes_","componentMeta","__namedExportsOrder"],"mappings":"8aAQA,MAAAA,EAAA,CAAA,CAAA,kBAAAC,EAAA,UAAAC,KAAA,CACE,MAAAC,EAAAC,EAAA,SAAA,KAAA,CAAmD,WAAA,GACrC,QAAA,EACH,CAAA,EAEXC,OAAAA,EAAAA,UAAA,IAAA,OACE,MAAAC,GAAAC,EAAA,SAAA,eAAA,aAAA,IAAA,YAAAA,EAAA,QAAA,UACAJ,GAAAG,IAAA,QACEL,EAAA,+CAAAE,GAAA,YAAAA,EAAA,GAAA,aAAA,cAAAG,EAAA,UAAAA,CAAA,GAAA,SAAA,EAGE,CAEJ,EAAA,CAAAL,EAAAE,CAAA,CAAA,EAEFK,MAAA,MAAA,CAAA,GAAA,cAAA,UAAA,iBAAA,iBAAAN,EAAA,SAAA,uEAAA,CAAA,CAKF,6VC5BA,MAAAO,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECIFC,EAAgD,CAC3D,WAAY,CACV,OAAQ,WACR,KAAM,CACJ,OAAQ,CAAE,KAAMD,EAAiB,SAAU,KAAM,CACnD,CACF,EACA,SAAU,CACR,UAAW,CACT,KAAM,QACR,EACA,kBAAmB,CACjB,OAASE,GAAiBA,CAC5B,CACF,EACA,OAAQC,GAASJ,EAAAA,IAAAR,EAAA,CAAY,GAAGY,EAAM,CACxC,ECpBAC,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECOf,SAASC,EAAkBC,EAAO,CAChC,MAAMC,EAAc,OAAO,OAAO,CAChC,GAAI,KACJ,EAAG,IACH,KAAM,OACN,GAAI,KACJ,GAAI,IACL,EAAEC,EAAoB,EAAEF,EAAM,UAAU,EACzC,OAAoBG,EAAAA,KAAMC,EAAAA,SAAW,CACnC,SAAU,CAAcC,EAAI,IAACC,EAAM,CACjC,MAAO,6BACR,CAAA,EAAG;AAAA,EAAmBD,MAAKJ,EAAY,GAAI,CAC1C,GAAI,sBACJ,SAAU,qBACX,CAAA,EAAG;AAAA,EAAmBE,OAAMF,EAAY,EAAG,CAC1C,SAAU,CAAC,kBAAgCI,MAAKJ,EAAY,KAAM,CAChE,SAAU,kBACX,CAAA,EAAG,8FAA8F,CACnG,CAAA,EAAG;AAAA,EAAmBI,MAAKJ,EAAY,GAAI,CAC1C,GAAI,QACJ,SAAU,OAChB,CAAK,EAAG;AAAA,EAAmBI,EAAI,IAACE,EAAQ,CAClC,SAAU,KACV,KAAMT,CACP,CAAA,EAAG;AAAA,EAAmBO,MAAKJ,EAAY,GAAI,CAC1C,GAAI,WACJ,SAAU,UACX,CAAA,EAAG;AAAA,EAAmBI,MAAKJ,EAAY,GAAI,CAC1C,GAAI,aACJ,SAAU,YAChB,CAAK,EAAG;AAAA,EAAmBI,EAAI,IAACG,EAAQ,CAClC,WAAY,OACZ,SAAuBH,EAAI,IAACI,EAAO,CACjC,KAAM,aACN,MAAOC,CACf,CAAO,CACP,CAAK,CAAC,CACN,CAAG,CACH,CACA,SAASC,EAAWX,EAAQ,GAAI,CAC9B,KAAM,CACJ,QAASY,CACb,EAAM,OAAO,OAAO,CAAE,EAAEV,EAAkB,EAAIF,EAAM,UAAU,EAC5D,OAAOY,EAAyBP,EAAI,IAACO,EAAW,CAC9C,GAAGZ,EACH,SAAuBK,EAAI,IAACN,EAAmB,CAC7C,GAAGC,CACT,CAAK,CACL,CAAG,EAAID,EAAkBC,CAAK,CAC9B,CAEY,MAACa,EAAeH,EAC5BG,EAAa,UAAY,aACpB,MAACC,EAAgB,CACpB,MAAO,8BACP,KAAM,CAAC,aAAa,EACpB,eAAgB,CAAC,cAAc,CACjC,EACAA,EAAc,WAAaA,EAAc,YAAc,GACvDA,EAAc,WAAW,KAAO,CAC9B,GAAIA,EAAc,WAAW,MAAQ,GACrC,KAAMH,CACR,EAC4B,MAAAI,EAAA,CAAA,cAAA"}