{"version":3,"file":"UseThrottleValue.stories-fdc39f59.js","sources":["../../src/stories/UseThrottleValue/Counter/Counter.tsx","../../src/stories/UseThrottleValue/Counter/Counter.tsx?raw","../../src/stories/UseThrottleValue/Search.tsx","../../src/stories/UseThrottleValue/Search.tsx?raw","../../src/stories/UseThrottleValue/stories.tsx","../../../too-many-hooks/dist/useThrottleValue.d.ts?raw","../../src/stories/UseThrottleValue/UseThrottleValue.stories.mdx"],"sourcesContent":["import { useTally, useThrottleValue } from '@yobgob/too-many-hooks'\nimport React, { useEffect } from 'react'\n\nconst Counter: React.FC = () => {\n  const [tally, { increment }] = useTally({})\n  const throttledHalf = useThrottleValue(tally, 500)\n  const throttledOne = useThrottleValue(tally, 1000)\n  const throttledFive = useThrottleValue(tally, 5000)\n\n  useEffect(() => {\n    const onTimeout = () => {\n      increment()\n      setTimeout(onTimeout, 1)\n    }\n    setTimeout(onTimeout, 1)\n  }, [increment])\n\n  return (\n    <div className=\"prose flex flex-col gap-2 text-4xl\">\n      <div>Value: {tally}</div>\n      <div>Throttled value (500ms): {throttledHalf}</div>\n      <div>Throttled value (1s): {throttledOne}</div>\n      <div>Throttled value (5s): {throttledFive}</div>\n    </div>\n  )\n}\n\nexport default Counter\n","export default \"import { useTally, useThrottleValue } from '@yobgob/too-many-hooks'\\nimport React, { useEffect } from 'react'\\n\\nconst Counter: React.FC = () => {\\n  const [tally, { increment }] = useTally({})\\n  const throttledHalf = useThrottleValue(tally, 500)\\n  const throttledOne = useThrottleValue(tally, 1000)\\n  const throttledFive = useThrottleValue(tally, 5000)\\n\\n  useEffect(() => {\\n    const onTimeout = () => {\\n      increment()\\n      setTimeout(onTimeout, 1)\\n    }\\n    setTimeout(onTimeout, 1)\\n  }, [increment])\\n\\n  return (\\n    <div className=\\\"prose flex flex-col gap-2 text-4xl\\\">\\n      <div>Value: {tally}</div>\\n      <div>Throttled value (500ms): {throttledHalf}</div>\\n      <div>Throttled value (1s): {throttledOne}</div>\\n      <div>Throttled value (5s): {throttledFive}</div>\\n    </div>\\n  )\\n}\\n\\nexport default Counter\\n\"","import { useThrottleValue } from '@yobgob/too-many-hooks'\nimport React, { useMemo } from 'react'\nimport BOOK_NAMES from '../../common/assets/book-names.json'\n\ninterface Props {\n  search: string\n}\n\nconst Input: React.FC<Props> = ({ search }) => {\n  const throttledSearch = useThrottleValue(search.toLowerCase(), 1000)\n  const filteredBooks = useMemo(\n    () => BOOK_NAMES.filter(name => name.toLowerCase().includes(throttledSearch)),\n    [throttledSearch],\n  )\n\n  return (\n    <div className=\"prose flex flex-col items-center gap-4\">\n      <h2>\n        {!throttledSearch\n          ? 'Enter a search query to filter books'\n          : `Books with names containing \"${throttledSearch}\":`}\n      </h2>\n      {filteredBooks.length ? (\n        <div className=\"flex max-w-lg flex-col border border-slate-500\">\n          {filteredBooks.map(name => (\n            <div key={name} className=\"w-full border border-slate-500 p-2\">\n              {name}\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div>No matching book titles</div>\n      )}\n    </div>\n  )\n}\n\nexport default Input\n","export default \"import { useThrottleValue } from '@yobgob/too-many-hooks'\\nimport React, { useMemo } from 'react'\\nimport BOOK_NAMES from '../../common/assets/book-names.json'\\n\\ninterface Props {\\n  search: string\\n}\\n\\nconst Input: React.FC<Props> = ({ search }) => {\\n  const throttledSearch = useThrottleValue(search.toLowerCase(), 1000)\\n  const filteredBooks = useMemo(\\n    () => BOOK_NAMES.filter(name => name.toLowerCase().includes(throttledSearch)),\\n    [throttledSearch],\\n  )\\n\\n  return (\\n    <div className=\\\"prose flex flex-col items-center gap-4\\\">\\n      <h2>\\n        {!throttledSearch\\n          ? 'Enter a search query to filter books'\\n          : `Books with names containing \\\"${throttledSearch}\\\":`}\\n      </h2>\\n      {filteredBooks.length ? (\\n        <div className=\\\"flex max-w-lg flex-col border border-slate-500\\\">\\n          {filteredBooks.map(name => (\\n            <div key={name} className=\\\"w-full border border-slate-500 p-2\\\">\\n              {name}\\n            </div>\\n          ))}\\n        </div>\\n      ) : (\\n        <div>No matching book titles</div>\\n      )}\\n    </div>\\n  )\\n}\\n\\nexport default Input\\n\"","import type { Meta, StoryObj } from '@storybook/react'\nimport Counter from './Counter'\nimport COUNTER_CODE from './Counter/Counter.tsx?raw'\nimport Search from './Search'\nimport SEARCH_CODE from './Search.tsx?raw'\n\nexport const counter: StoryObj<Meta<typeof Counter>> = {\n  parameters: {\n    layout: 'centered',\n    controls: { expanded: true },\n    docs: {\n      source: { code: COUNTER_CODE, language: 'tsx' },\n    },\n  },\n  render: args => <Counter {...args} />,\n}\n\nexport const search: StoryObj<Meta<typeof Search>> = {\n  parameters: {\n    layout: 'centered',\n    controls: { expanded: true },\n    docs: {\n      source: { code: SEARCH_CODE, language: 'tsx' },\n    },\n  },\n  args: {\n    search: '',\n  },\n  render: args => <Search {...args} />,\n}\n","export default \"/**\\n * `useThrottleValue` hook type\\n *\\n * @export\\n * @template T\\n * @param {T} value\\n * @param {number} delay\\n * @returns {T}\\n * @typedef {UseThrottleValue}\\n */\\nexport type UseThrottleValue = <T>(value: T, delay: number) => T;\\n/**\\n * Limits stateful updates to a frequently-changing value to once every `delay`ms\\n *\\n * @template T\\n * @param {T} value\\n * @param {number} delay\\n * @returns {T}\\n */\\ndeclare const useThrottleValue: <T>(value: T, delay: number) => T;\\nexport default useThrottleValue;\\n\"","import { Canvas, Meta, Source, Story } from '@storybook/addon-docs'\nimport * as stories from './stories'\nimport TYPES from '../../../../too-many-hooks/dist/useThrottleValue.d.ts?raw'\n\n<Meta title=\"Example/UseThrottleValue\" />\n\n# useThrottleValue\n\nUpdates a frequently-changing value only once every `delay`ms\n\n## Types\n\n<Source language=\"ts\" code={TYPES} />\n\n## Examples\n\n### Throttled counter\n\nA very easy to see example is throttling a counter so that components that depend upon a very frequently updating value rerender a limited amount per second.\n\n<Canvas withSource=\"open\">\n  <Story name=\"Throttled counter\" story={stories.counter} />\n</Canvas>\n\n### Search books\n\nWhen searching a list it may be helpful to throttle the search query. This allows a user to type at a normal speed with potentially costly filtering occurring a limited amount per second to prevent freezing.\n\n<Canvas withSource=\"open\">\n  <Story name=\"Search books\" story={stories.search} />\n</Canvas>\n"],"names":["Counter","tally","increment","useTally","throttledHalf","useThrottleValue","throttledOne","throttledFive","useEffect","onTimeout","jsxs","COUNTER_CODE","Input","search","throttledSearch","filteredBooks","useMemo","BOOK_NAMES","name","jsx","SEARCH_CODE","counter","args","Search","TYPES","_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Source","Canvas","Story","stories.counter","stories.search","MDXContent","MDXLayout","_counter_","_search_","componentMeta","__namedExportsOrder"],"mappings":"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"}